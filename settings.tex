\makeatletter
    \@ifpackageloaded{biblatex}{\def\biblatexloaded{true}}{\def\biblatexloaded{false}}
    \@ifpackageloaded{minted}{\def\mintedloaded{true}}{\def\mintedloaded{false}}
\makeatother

%% Pgfplots
\pgfplotsset{compat=1.10} % Compability sversion

%% Biblatex
\ifx\biblatexloaded{true}
    % Surname first
    \DeclareNameAlias{sortname}{last-first}
    \DeclareNameAlias{default}{last-first}

    \urlstyle{sf}

    % Separate multiple references with ;
    \renewcommand\multicitedelim{\addsemicolon\space}
\fi
%% Minted
\ifx\mintedloaded{true}
    % C
    \newmintedfile{c}{fontfamily=tt,
                        fontsize=\footnotesize,
                        tabsize=4,
                        numberblanklines=true,
                        numbers=left,
                        numbersep=5pt,
                        breakautoindent=false,
                        xleftmargin=0.7cm,} % \cfile{}

    \newminted[ccodecap]{c}{fontfamily=tt,
                            fontsize=\normalsize,
                            tabsize=4,
                            frame=lines,
                            breaklines=true,
                            breaksymbolleft=\tiny\ensuremath{\hookrightarrow},
                            breakautoindent=true,} %\begin{ccodecap}
    \newmintinline{c}{fontfamily=tt,
                        breaklines=true,
                        fontsize=\normalsize} %\cinline{}

    % Shell
    \newminted[shellcode]{shell-session}{fontfamily=tt,
                                            fontsize=\normalsize,
                                            tabsize=4,} %\begin{shellcode}

    \newminted[shellcodecap]{shell-session}{fontfamily=tt,
                                            fontsize=\normalsize,
                                            tabsize=4,
                                            frame=lines,
                                            breaklines=true,
                                            breaksymbolleft=\tiny\ensuremath{\hookrightarrow},
                                            breakautoindent=true} %\begin{shellcodecap}
    \newmint[shell]{shell-session}{fontfamily=tt,
                                    fontsize=\normalsize,
                                    frame=lines,
                                    breaklines=true,
                                    breaksymbolleft=\tiny\ensuremath{\hookrightarrow},
                                    breakautoindent=true} % \shell{}
    \newmintedfile[shellfile]{shell-session}{fontfamily=tt,
                                                fontsize=\normalsize,
                                                tabsize=4,
                                                breakautoindent=false,} % \shellfile{}
    \newmintinline[shellinline]{shell-session}{fontfamily=tt,
                                                fontsize=\normalsize,
                                                breaklines=true,
                                                breakautoindent=false} % \shellinline{}
    % MATLAB
    \newmintedfile{matlab}{fontfamily=tt,
                            fontsize=\footnotesize,
                            tabsize=4,
                            numberblanklines=true,
                            numbers=left,
                            numbersep=5pt,
                            breakautoindent=false,
                            xleftmargin=0.7cm,} % \matlabfile{}
    \newmintedfile[matlabfileframe]{matlab}{fontfamily=tt,
                                            fontsize=\footnotesize,
                                            tabsize=4,
                                            frame=lines,
                                            numberblanklines=true,
                                            numbers=left,
                                            numbersep=5pt,
                                            breakautoindent=false,
                                            xleftmargin=0.7cm,} % \matlabfileframe{}


    \newminted[mcodecap]{matlab}{fontfamily=tt,
                                    fontsize=\normalsize,
                                    tabsize=4,
                                    frame=lines,
                                    breaklines=true,
                                    breaksymbolleft=\tiny\ensuremath{\hookrightarrow},
                                    breakautoindent=true,} %\begin{mcodecap}
    \newmintinline[minline]{matlab}{fontfamily=tt,
                                    breaklines=true,
                                    fontsize=\normalsize} %\minline{}

    \SetupFloatingEnvironment{listing}{name=Code} % Shows "Code" in captions
\fi

%% Misc
% Captions of floats
\usepackage[margin=3ex,
			font=small,
			labelfont=bf,
			labelsep=endash]{caption}

% Links
\hypersetup{colorlinks=true,
			hidelinks}
			
			
% Definitions of commands
\newcommand{\mail}[1]{\href{mailto:#1}{\nolinkurl{#1}}} % Email addresses as links
\newcommand{\vect}[1]{\boldsymbol{\mathbf{#1}}} % Vectors (\boldsymbol for Greek letters)
\newcommand{\uvect}[1]{\hat{\boldsymbol{\mathbf{#1}}}} % Unitvectors (\boldsymbol for Greek letters)
\newcommand{\dd}[0]{\mathrm{d}} % Differential d
\newcommand{\pd}[0]{\partial} % Partial differential d
\newcommand{\ddf}[3]{\frac{\dd^{#1} #2}{\dd #3^{#1}}} % Derivatives as fractions
\newcommand{\pdf}[3]{\frac{\pd^{#1} #2}{\pd #3^{#1}}} % Partial derivatives as fractions
\newcommand{\matr}[1]{#1} % Matriser
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert} % Norm. \norm{}. \norm*{} adjusts the size of the bars
\DeclarePairedDelimiter{\innerprod}{\langle}{\rangle} % Inner product. \innerprod{}. \innerprod*{} adjusts the size of the bars
\DeclarePairedDelimiter\abs{\lvert}{\rvert} % Absolute value \abs{}. \abs*{} adjusts the size of the bars
\newtheorem{theorem}{Theorem} % \begin{theorem}[Name of Theorem]

% Redefine \left och \right in order to make them look nicer when used in functions
\let\originalleft\left
\let\originalright\right
\renewcommand{\left}{\mathopen{}\mathclose\bgroup\originalleft}
\renewcommand{\right}{\aftergroup\egroup\originalright}

% Folder with figures
\graphicspath{{./figs/}}
